{{page-title "Edit Channel"}}
<h1>Edit Channel</h1>

  
   <div class="form-item">
    <div class="form-item-label">
        Name:
    </div>
    <div class="form-item-entry">
        <Input @type="text" size={{25}} id="name" @enter={{this.save}} @value={{this.model.channel.name}} />
    </div> 
  </div>
  
   <div class="form-item">
    <div class="form-item-label">
        Description:
    </div>
    <div class="form-item-entry">
        <Input @type="text" size={{25}} id="desc" @enter={{this.save}} @value={{this.model.channel.desc}} />
    </div> 
  </div>
  
   <div class="form-item">
    <div class="form-item-label">
        Color:
    </div>
    <div class="form-item-entry">
        <Input @type="text" size={{25}} id="color" @enter={{this.save}} @value={{this.model.channel.color}} />
    </div> 
  </div>
  
  <div class="form-item">
    <div class="form-item-label">
        Can Join:
    </div>

    <div class="form-item-entry">
      <PowerSelectMultiple id="canjoin" @selected={{this.model.channel.can_join}} @options={{this.model.roles}} @onChange={{this.joinRolesChanged}} as |role|>
        {{role}}
      </PowerSelectMultiple>
      <p class="hint">Leave empty or use "everyone" to allow anyone to join.</p>
    </div>
  </div>
  
  <div class="form-item">
    <div class="form-item-label">
        Can Talk:
    </div>

    <div class="form-item-entry">
      <PowerSelectMultiple id="cantalk" @selected={{this.model.channel.can_talk}} @options={{this.model.roles}} @onChange={{this.talkRolesChanged}} as |role|>
        {{role}}
      </PowerSelectMultiple>
      <p class="hint">Leave empty or use "everyone" to allow anyone to talk.</p>
      
    </div>
  </div>
  
  <div class="form-item">
    <div class="form-item-label">
        Discord Channel Name:
    </div>
    <div class="form-item-entry">
        <Input @type="text" size={{25}} id="discordchan" @enter={{this.save}} @value={{this.model.channel.discord_channel}} />
        <p class="hint">Requires <a href="https://github.com/aresmush/ares-discord" target="_blank">Discord integration</a>, installed separately.</p>
    </div>
  </div>
  
  <div class="form-item">
    <div class="form-item-label">
        Discord Webhook URL:
    </div>
    <div class="form-item-entry">
        <Input @type="text" size={{90}} id="discordwebhook" @enter={{this.save}} @value={{this.model.channel.discord_webhook}} />
        <p class="hint">Requires <a href="https://github.com/aresmush/ares-discord" target="_blank">Discord integration</a>, installed separately.</p>
    </div>
  </div>
  

<div class="action-buttons">
        <LinkTo @route="channels-manage" class="btn btn-secondary">Cancel</LinkTo>  
        <button {{on 'click' this.save}} class="btn btn-primary">Save</button>
</div>
      
<FlashMessages />
