{{page-title 'Edit Event'}}
<h1>Edit Event</h1>
  
  <div class="form-item">
    <div class="form-item-label">
      Organizer:
    </div>

    <div class="form-item-entry">
      <PowerSelect @selected={{this.model.event.organizer}} @options={{this.model.characters}} @searchEnabled=true @searchField="name" @onChange={{this.organizerChanged}} as |char|>
        {{char.name}}
      </PowerSelect>
    </div>
  </div>

   <div class="form-item">
    <div class="form-item-label">
        Title:
    </div>
    <div class="form-item-entry">
         <Input @type="text" size={{25}} id="title" @enter={{this.edit}} @value={{this.model.event.title}} />
    </div> 
  </div>
  
   <div class="form-item">
    <div class="form-item-label">
        Date:
    </div>
    <div class="form-item-entry">
         
         
           <EmberFlatpickr
             id="date"
             @date={{this.selectedDate}}
             @altInput={{true}}
             @altInputFormat="M/D/Y"
             @inline={{true}}
             @mode="single"
             @onChange={{this.changeDate}}
           />
           
           
    </div> 
  </div>
  
   <div class="form-item">
    <div class="form-item-label">
        Start Time:
    </div>
    <div class="form-item-entry">
         <Input @type="text" id="time" @enter={{this.edit}} @value={{this.model.event.time}} />
         
         <div class="hint">Use <b>server time</b> in the same format as the server time.  The server time format is {{this.model.event.server_time}}.</div>
    </div> 
  </div>
  
  
  <div class="form-item">
     <div class="form-item-label">
         Content Warning:
     </div>
     <div class="form-item-entry">
       <PowerSelectMultiple @selected={{this.warning_tags}} @options={{this.model.sceneOptions.content_warnings}} @onChange={{this.warningsChanged}} as |warning|>
         {{warning}}
       </PowerSelectMultiple>
         <Input @type="text" size={{60}} id="warning" @enter={{this.edit}} @value={{this.model.event.content_warning}} />
            <p class="hint">Select from the suggested tags or write your own. Please avoid frivolous warnings.</p>
     </div>
   </div>
   
  
   <div class="form-item">
    <div class="form-item-label">
        Tags:
    </div>
    <div class="form-item-entry">
        <Input @type="text" size={{25}} id="tags" @enter={{this.edit}}  @value={{this.model.event.tags}} />
    </div> 
  </div>
  
   <div class="form-item">
    <div class="form-item-label">
        Description:
    </div>
    <div class="form-item-entry">
         <MarkdownEditor @text={{this.model.event.description}} />
         
    </div> 
  </div>
  


<div class="action-buttons">
  <LinkTo @route="event" @model={{this.model.event.id}} class="btn btn-secondary">Cancel</LinkTo>
  <button {{on 'click' this.edit}} class="btn btn-primary">Save</button>
</div>
<FlashMessages />
